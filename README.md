# UserAPI - тестовое задание по C# разработке

## Описание
Проект представляет собой Web API сервис на .NET для управления пользователями с реализацией CRUD операций. API доступно через интерфейс Swagger.

## Технологии
- .NET 9
- ASP.NET Core Web API
- Swagger/OpenAPI
- In-Memory хранение данных

## Запуск проекта
1. Клонировать репозиторий
2. Открыть проект в Visual Studio или другой IDE
3. Запустить проект, по умолчанию он будет доступен по адресу http://localhost:5024/swagger

## Предустановленный пользователь
В системе изначально создан пользователь с правами администратора:
- **Логин**: Admin
- **Пароль**: Admin123

## Аутентификация
API использует Basic Authentication для доступа к методам. Для авторизации в Swagger:
1. Нажмите кнопку "Authorize" в верхней части страницы
2. Введите логин и пароль
3. Нажмите "Authorize"

## Возможности API

### Пользовательские операции

#### Создание пользователя
- `POST /api/Users` - Создание нового пользователя (доступно только администраторам)

#### Обновление информации о пользователе
- `PUT /api/Users/info` - Изменение имени, пола или даты рождения
- `PUT /api/Users/password` - Изменение пароля
- `PUT /api/Users/login` - Изменение логина

#### Получение информации о пользователях
- `GET /api/Users` - Получение списка всех активных пользователей (доступно только администраторам)
- `GET /api/Users/{login}` - Получение информации о пользователе по логину (доступно только администраторам)
- `POST /api/Users/auth` - Аутентификация пользователя по логину и паролю
- `GET /api/Users/older-than/{age}` - Получение пользователей старше указанного возраста (доступно только администраторам)

#### Удаление и восстановление пользователей
- `DELETE /api/Users/{login}` - Удаление пользователя (может быть мягким или полным, доступно только администраторам)
- `POST /api/Users/{login}/restore` - Восстановление пользователя (доступно только администраторам)

## Модель данных
Модель пользователя включает следующие поля:
- Guid - Уникальный идентификатор пользователя
- Login - Уникальный логин (только латинские буквы и цифры)
- Password - Пароль (только латинские буквы и цифры)
- Name - Имя (только латинские и русские буквы)
- Gender - Пол: 0 - женщина, 1 - мужчина, 2 - неизвестно
- Birthday - Дата рождения (может быть null)
- Admin - Флаг, указывающий является ли пользователь администратором
- CreatedOn - Дата создания пользователя
- CreatedBy - Логин пользователя, создавшего этого пользователя
- ModifiedOn - Дата изменения пользователя
- ModifiedBy - Логин пользователя, изменившего этого пользователя
- RevokedOn - Дата удаления пользователя
- RevokedBy - Логин пользователя, удалившего этого пользователя
